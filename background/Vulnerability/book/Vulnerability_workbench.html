
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Explore the Vulnerability database &#8212; MIRACA Technical Workbench</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'background/Vulnerability/book/Vulnerability_workbench';</script>
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Road Flow Model" href="../../RoadFlowModelling/book/miraca_roads.html" />
    <link rel="prev" title="Exploring the Critical Infrastructure Exposure Database" href="../../Exposure_Miraca/book/Exposure_Miraca.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/logo.png" class="logo__image only-light" alt="MIRACA Technical Workbench - Home"/>
    <img src="../../../_static/logo.png" class="logo__image only-dark pst-js-only" alt="MIRACA Technical Workbench - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../intro.html">
                    Welcome to the Miraca Book
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">The Miraca approach</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../riskassessment/miraca_approach.html">Description of the framework</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../riskassessment/example.html">Example: Belgium road infrastructure</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../riskassessment/Systemic-Economic-Impact/book/systemic_impacts_belgium.html">Systemic Economic impacts</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Use Cases</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../placeholder1.html">Use Case 1 - Flooding and windstorms in the TEN-T corridor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../placeholder2.html">Use Case 2 - Wildfires in Catalonia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/UC3/book/Use_Case_template.html">Use case 3 - Flooding in Zuid-Holland</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/UC4/book/E_E%2BL_ESRM20%2BElsus.html">Use Case 4 - Landslides &amp; Earthquake in Greece</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/UC5/Use_Case_5_v1.html">Use Case 5 - Energy</a></li>




</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Technical background</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Exposure_Miraca/book/intro.html">Exposure database</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Exposure_Miraca/book/Exposure_Miraca.html">Exploring the Critical Infrastructure Exposure Database</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Vulnerability database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../RoadFlowModelling/book/miraca_roads.html">Network modelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CBAmodelling/book/miraca_cba.html">Cost-benefit analysis</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../AdaptationModelling/book/01_direct_damages_baseline.html">Adaptation strategies to Critical Infrastructure</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../AdaptationModelling/book/02_indirect_damages_baseline.html">Adaptation of Critical Infrastructure - Indirect losses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../AdaptationModelling/book/03_batch_process_adaptations.html">Adaptation of CI - Calculate adaptations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../AdaptationModelling/book/04_results_summary.html">Summary</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">About Miraca</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/miracaEU/miraca-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/miracaEU/miraca-book/issues/new?title=Issue%20on%20page%20%2Fbackground/Vulnerability/book/Vulnerability_workbench.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/background/Vulnerability/book/Vulnerability_workbench.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Explore the Vulnerability database</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-of-asset-vulnerability-curves">Analysis of asset Vulnerability curves</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hazard-vulnerability-modeling">Hazard Vulnerability Modeling</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-1-education-health-earthquakes">Example 1: Education &amp; Health - Earthquakes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-2-energy-windstorms">Example 2: Energy - Windstorms</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="explore-the-vulnerability-database">
<h1>Explore the Vulnerability database<a class="headerlink" href="#explore-the-vulnerability-database" title="Link to this heading">#</a></h1>
<p>The following notebook provides a set of functions to navigate through the most extensive list of vulnerability and fragility curves compiled for Critical Infrastructure as part of the MIRACA project.</p>
<p>This notebook is organised in four sections:</p>
<ul class="simple">
<li><p>Analysis of asset Vulnerability curves</p></li>
<li><p>Hazard Vulnerability Modeling</p></li>
<li><p>Example 1: Earthquake vulnerability curve for Education and Health</p></li>
<li><p>Example 2: Windstorm vulnerability curve for Energy</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># HIDE CODE</span>
<span class="c1"># Import necessary libraries</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span> 
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span> 
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.ticker</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ticker</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mpl</span>  
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">rcParams</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">lognorm</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.ticker</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span><span class="n">MultipleLocator</span><span class="p">,</span> <span class="n">AutoMinorLocator</span><span class="p">)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">data_utils</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Detect project root (the folder containing the notebook)</span>
<span class="n">project_root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">()</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Project root:&quot;</span><span class="p">,</span> <span class="n">project_root</span><span class="p">)</span>

<span class="c1"># Define data and results folders</span>
<span class="n">data_path</span> <span class="o">=</span> <span class="n">project_root</span> <span class="o">/</span> <span class="s2">&quot;data&quot;</span>
<span class="n">results_path</span> <span class="o">=</span> <span class="n">project_root</span> <span class="o">/</span> <span class="s2">&quot;results&quot;</span>

<span class="c1"># Create folders if they do not exist</span>
<span class="n">data_path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">results_path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data folder:&quot;</span><span class="p">,</span> <span class="n">data_path</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Results folder:&quot;</span><span class="p">,</span> <span class="n">results_path</span><span class="p">)</span>


<span class="c1"># Define paths to the MIRACA vulnerability tables</span>

<span class="n">file_D1</span> <span class="o">=</span> <span class="n">data_path</span> <span class="o">/</span> <span class="s2">&quot;Table_D1_Summary_CI_Vulnerability_Data_V2.0.0_AUTH.xlsx&quot;</span>
<span class="n">file_D2</span> <span class="o">=</span> <span class="n">data_path</span> <span class="o">/</span> <span class="s2">&quot;Table_D2_Multi-Hazard_Fragility_and_Vulnerability_Curves_V2.0.0_AUTH.xlsx&quot;</span>
<span class="n">file_D3</span> <span class="o">=</span> <span class="n">data_path</span> <span class="o">/</span> <span class="s2">&quot;Table_D3_Costs_V2.0.0_AUTH.xlsx&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Project root: /Users/curricelqui/0_AREA/02_Projects/MIRACA/code/miraca-book/miraca-book/background/Vulnerability
Data folder: /Users/curricelqui/0_AREA/02_Projects/MIRACA/code/miraca-book/miraca-book/background/Vulnerability/data
Results folder: /Users/curricelqui/0_AREA/02_Projects/MIRACA/code/miraca-book/miraca-book/background/Vulnerability/results
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set-up the MIRACA color palette, containing all hex colour codes used for consistent styling in plots and visual outputs.</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;primary_blue_500&quot;</span><span class="p">:</span> <span class="s2">&quot;#4069F6&quot;</span><span class="p">,</span>
    <span class="s2">&quot;red&quot;</span><span class="p">:</span> <span class="s2">&quot;#ED5861&quot;</span><span class="p">,</span>
    <span class="s2">&quot;grey_600&quot;</span><span class="p">:</span> <span class="s2">&quot;#7B7F8F&quot;</span><span class="p">,</span>
    <span class="s2">&quot;yellow&quot;</span><span class="p">:</span> <span class="s2">&quot;#FBC40B&quot;</span><span class="p">,</span>
    <span class="s2">&quot;blue_100&quot;</span><span class="p">:</span> <span class="s2">&quot;#E0E7FE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;green_500&quot;</span><span class="p">:</span> <span class="s2">&quot;#64F4C0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;green_500&quot;</span><span class="p">:</span> <span class="s2">&quot;#64F4C0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;white&quot;</span><span class="p">:</span> <span class="s2">&quot;#FFFFFF&quot;</span><span class="p">,</span>
    <span class="s2">&quot;black&quot;</span><span class="p">:</span> <span class="s2">&quot;#1F1E37&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<section id="analysis-of-asset-vulnerability-curves">
<h2>Analysis of asset Vulnerability curves<a class="headerlink" href="#analysis-of-asset-vulnerability-curves" title="Link to this heading">#</a></h2>
<p>In this section we provide a summary of the different curves available. The vulnerability database is analysed and events are categorized based on the MIRACA Taxonomy. It calculates the distribution of vulnerability functions by Critical Infrastucture and Hazard Type.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">hazard_mapping</span></code> dictionary below provides the 10 hazard codes used in the MIRACA vulnerability sheets. These can be used to search for hazard-specific vulnerability curves, ensuring a consistent interpretation across sectors and analyses.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">networks</span></code> dictionary provides a list with the typology of Critical Infrastructure sectors that can be explored.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># === Hazard mapping dictionary ===</span>
<span class="n">hazard_mapping</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="s1">&#39;Earthquakes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;F&#39;</span><span class="p">:</span> <span class="s1">&#39;Floods&#39;</span><span class="p">,</span>
    <span class="s1">&#39;L&#39;</span><span class="p">:</span> <span class="s1">&#39;Landslides&#39;</span><span class="p">,</span>
    <span class="s1">&#39;W&#39;</span><span class="p">:</span> <span class="s1">&#39;Windstorms&#39;</span><span class="p">,</span>  <span class="c1"># Updated for Windstorms</span>
    <span class="s1">&#39;WF&#39;</span><span class="p">:</span> <span class="s1">&#39;Wildfires&#39;</span><span class="p">,</span>  <span class="c1"># Updated for Wildfires</span>
    <span class="s1">&#39;E+L&#39;</span><span class="p">:</span> <span class="s1">&#39;Earthquakes + Landslides&#39;</span><span class="p">,</span>
    <span class="s1">&#39;E+F&#39;</span><span class="p">:</span> <span class="s1">&#39;Earthquakes + Floods&#39;</span><span class="p">,</span>
    <span class="s1">&#39;E+Liq&#39;</span><span class="p">:</span> <span class="s1">&#39;Earthquakes + Liquefaction&#39;</span><span class="p">,</span>
    <span class="s1">&#39;E+W&#39;</span><span class="p">:</span> <span class="s1">&#39;Earthquakes + Windstorms&#39;</span><span class="p">,</span>  <span class="c1"># Corrected mapping</span>
    <span class="s1">&#39;Multi-Hazard&#39;</span><span class="p">:</span> <span class="s1">&#39;Multi-Hazard&#39;</span>
<span class="p">}</span>

<span class="c1"># === Infrastucture mapping dictionary ===</span>
<span class="n">networks</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Energy&#39;</span><span class="p">,</span>
           <span class="s1">&#39;Transportation&#39;</span><span class="p">,</span>
           <span class="s1">&#39;Telecommunication&#39;</span><span class="p">,</span>
           <span class="s1">&#39;Water&#39;</span><span class="p">,</span>
          <span class="s1">&#39; Waste&#39;</span><span class="p">,</span>
           <span class="s1">&#39;Education &amp; Health&#39;</span><span class="p">,</span>
          <span class="p">]</span> 


<span class="c1"># === Intensity mapping dictionary ===</span>
<span class="n">intensity_mapping</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Peak Ground Acceleration&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;PGA&quot;</span><span class="p">,</span> <span class="s2">&quot;[g]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;Peak Ground Velocity&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;PGV&quot;</span><span class="p">,</span> <span class="s2">&quot;[cm/s]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;Bedrock Peak Ground Velocity&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;PGV&quot;</span><span class="p">,</span> <span class="s2">&quot;[cm/s]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;Spectral acceleration&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;Sa&quot;</span><span class="p">,</span> <span class="s2">&quot;[g]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;Spectral acceleration (Sa (T1))&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;Sa&quot;</span><span class="p">,</span> <span class="s2">&quot;[g]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;Elastic spectral displacement&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;Sd&quot;</span><span class="p">,</span> <span class="s2">&quot;[cm]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;3s gust wind speed at 10 m height&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;V10m&quot;</span><span class="p">,</span> <span class="s2">&quot;[m/s]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;3-s gust wind speed &quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;V10m&quot;</span><span class="p">,</span> <span class="s2">&quot;[m/s]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;Wind speed&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;V10m&quot;</span><span class="p">,</span> <span class="s2">&quot;[m/s]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;Permanent ground displacement&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;PGD&quot;</span><span class="p">,</span> <span class="s2">&quot;[cm]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;Peak Ground Displacement&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;PGD&quot;</span><span class="p">,</span> <span class="s2">&quot;[cm]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;Inundation&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;Depth&quot;</span><span class="p">,</span> <span class="s2">&quot;[m]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;fire intensity measure (in min) &quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;FIM&quot;</span><span class="p">,</span> <span class="s2">&quot;[min]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;Free field Peak Ground Velocity and Permanent Ground displacement &quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;PGV&amp;PGD&quot;</span><span class="p">,</span> <span class="s2">&quot;[cm/s]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;Inundation+Duration&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;Depth&amp;Duration&quot;</span><span class="p">,</span> <span class="s2">&quot;[m]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;Rainfall intensity and duration&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;Rainfall inten&amp;durat&quot;</span><span class="p">,</span> <span class="s2">&quot;[days]&quot;</span><span class="p">),</span>
    <span class="s2">&quot;3-sec peak gust wind speed at 10 m height&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;V10m&quot;</span><span class="p">,</span> <span class="s2">&quot;[m/s]&quot;</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>To explore the database, the total number of curves per asset is calculated.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Workbook handler</span>
<span class="n">xls</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">ExcelFile</span><span class="p">(</span><span class="n">file_D1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asset_counts</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">sheet_name</span> <span class="ow">in</span> <span class="n">xls</span><span class="o">.</span><span class="n">sheet_names</span><span class="p">:</span>
    <span class="n">df_sheet</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file_D1</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="n">sheet_name</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Identify ID column → only asset sheets have curves</span>
    <span class="n">id_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_sheet</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;id number&#39;</span> <span class="ow">in</span> <span class="n">col</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">id_cols</span><span class="p">:</span>
        <span class="k">continue</span>

    <span class="n">id_col</span> <span class="o">=</span> <span class="n">id_cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">asset_counts</span><span class="p">[</span><span class="n">sheet_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sheet</span><span class="p">[</span><span class="n">id_col</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>

<span class="c1"># Convert to DataFrame</span>
<span class="n">asset_counts_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">asset_counts</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Total Curves&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total Number of Curves per asset:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">asset_counts_df</span><span class="p">)</span>

<span class="c1"># Save total curves per asset</span>
<span class="n">asset_counts_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">results_path</span> <span class="o">/</span> <span class="s2">&quot;Total_curves_per_asset.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Total Number of Curves per asset:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Total Curves</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Energy</th>
      <td>446</td>
    </tr>
    <tr>
      <th>Transportation</th>
      <td>398</td>
    </tr>
    <tr>
      <th>Telecommunication</th>
      <td>27</td>
    </tr>
    <tr>
      <th>Water</th>
      <td>147</td>
    </tr>
    <tr>
      <th>Waste</th>
      <td>98</td>
    </tr>
    <tr>
      <th>Education &amp; Health</th>
      <td>213</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now, the total number of curves per hazard.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hazard_counts</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">sheet_name</span> <span class="ow">in</span> <span class="n">xls</span><span class="o">.</span><span class="n">sheet_names</span><span class="p">:</span>
    <span class="n">df_sheet</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file_D1</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="n">sheet_name</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Detect ID column → skip non-asset sheets</span>
    <span class="n">id_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_sheet</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;id number&#39;</span> <span class="ow">in</span> <span class="n">col</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">id_cols</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="n">id_col</span> <span class="o">=</span> <span class="n">id_cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Detect hazard column</span>
    <span class="n">hazard_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_sheet</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;hazard&#39;</span> <span class="ow">in</span> <span class="n">col</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">hazard_cols</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="n">hazard_col</span> <span class="o">=</span> <span class="n">hazard_cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Clean hazard labels</span>
    <span class="n">df_sheet</span><span class="p">[</span><span class="n">hazard_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sheet</span><span class="p">[</span><span class="n">hazard_col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

    <span class="c1"># Remove invalid hazard labels</span>
    <span class="n">df_sheet</span> <span class="o">=</span> <span class="n">df_sheet</span><span class="p">[</span>
        <span class="n">df_sheet</span><span class="p">[</span><span class="n">hazard_col</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span> <span class="o">&amp;</span>
        <span class="p">(</span><span class="n">df_sheet</span><span class="p">[</span><span class="n">hazard_col</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">&amp;</span>
        <span class="p">(</span><span class="o">~</span><span class="n">df_sheet</span><span class="p">[</span><span class="n">hazard_col</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;NAN&quot;</span><span class="p">,</span> <span class="s2">&quot;NONE&quot;</span><span class="p">,</span> <span class="s2">&quot;NA&quot;</span><span class="p">,</span> <span class="s2">&quot;N/A&quot;</span><span class="p">]))</span>
    <span class="p">]</span>

    <span class="c1"># Group combined hazards as Multi-hazard</span>
    <span class="n">df_sheet</span><span class="p">[</span><span class="n">hazard_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sheet</span><span class="p">[</span><span class="n">hazard_col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;Multi-hazard&quot;</span> <span class="k">if</span> <span class="s2">&quot;+&quot;</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> <span class="n">x</span>
    <span class="p">)</span>

    <span class="c1"># Count curves per hazard</span>
    <span class="n">grouped</span> <span class="o">=</span> <span class="n">df_sheet</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">hazard_col</span><span class="p">)[</span><span class="n">id_col</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>

    <span class="c1"># Add to global totals, converting codes to full names</span>
    <span class="k">for</span> <span class="n">hazard</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">grouped</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">full_name</span> <span class="o">=</span> <span class="n">hazard_mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">hazard</span><span class="p">,</span> <span class="n">hazard</span><span class="p">)</span>
        <span class="n">hazard_counts</span><span class="p">[</span><span class="n">full_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">hazard_counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">full_name</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">count</span>

<span class="c1"># Convert to DataFrame</span>
<span class="n">hazard_counts_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span>
    <span class="n">hazard_counts</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Total Curves&#39;</span><span class="p">]</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Total Number of Curves per Hazard:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">hazard_counts_df</span><span class="p">)</span>

<span class="c1"># Save total curves per hazard</span>
<span class="n">hazard_counts_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">results_path</span> <span class="o">/</span> <span class="s2">&quot;Total_curves_per_hazard.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Total Number of Curves per Hazard:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Total Curves</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Earthquakes</th>
      <td>762</td>
    </tr>
    <tr>
      <th>Floods</th>
      <td>111</td>
    </tr>
    <tr>
      <th>Landslides</th>
      <td>147</td>
    </tr>
    <tr>
      <th>Multi-hazard</th>
      <td>47</td>
    </tr>
    <tr>
      <th>Windstorms</th>
      <td>254</td>
    </tr>
    <tr>
      <th>Wildfires</th>
      <td>8</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>A detailed summary table with the total vulnerability curves per asset is shown.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dictionary to store summary per asset</span>
<span class="n">asset_summary</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">sheet_name</span> <span class="ow">in</span> <span class="n">xls</span><span class="o">.</span><span class="n">sheet_names</span><span class="p">:</span>
    
    <span class="c1"># Read sheet (header row 1)</span>
    <span class="n">df_sheet</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file_D1</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="n">sheet_name</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># ---- Detect ID column (only sheets with assets have ID numbers) ----</span>
    <span class="n">id_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_sheet</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;id number&#39;</span> <span class="ow">in</span> <span class="n">col</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">id_cols</span><span class="p">:</span>
        <span class="k">continue</span>  <span class="c1"># skip non-asset sheets</span>

    <span class="n">id_col</span> <span class="o">=</span> <span class="n">id_cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># ---- Count total number of curves ----</span>
    <span class="n">total_curves</span> <span class="o">=</span> <span class="n">df_sheet</span><span class="p">[</span><span class="n">id_col</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>

    <span class="c1"># ---- Detect curve type column ----</span>
    <span class="n">curve_type_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_sheet</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;fragility&#39;</span> <span class="ow">in</span> <span class="n">col</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
    <span class="k">if</span> <span class="n">curve_type_cols</span><span class="p">:</span>
        <span class="n">curve_type_col</span> <span class="o">=</span> <span class="n">curve_type_cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">curve_type_counts</span> <span class="o">=</span> <span class="n">df_sheet</span><span class="p">[</span><span class="n">curve_type_col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">curve_types</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">curve_type_counts</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">))</span>
        <span class="n">curve_type_counts_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">curve_type_counts</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">curve_type_col</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">curve_types</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">curve_type_counts_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># ---- Detect hazard type column ----</span>
    <span class="n">hazard_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_sheet</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;hazard&#39;</span> <span class="ow">in</span> <span class="n">col</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
    <span class="k">if</span> <span class="n">hazard_cols</span><span class="p">:</span>
        <span class="n">hazard_col</span> <span class="o">=</span> <span class="n">hazard_cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">hazard_counts</span> <span class="o">=</span> <span class="n">df_sheet</span><span class="p">[</span><span class="n">hazard_col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">hazard_types</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">hazard_counts</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">))</span>
        <span class="n">hazard_counts_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">hazard_counts</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">hazard_col</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">hazard_types</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">hazard_counts_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># ---- Store summary ----</span>
    <span class="n">asset_summary</span><span class="p">[</span><span class="n">sheet_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Total Curves&quot;</span><span class="p">:</span> <span class="n">total_curves</span><span class="p">,</span>
        <span class="s2">&quot;Curve Types&quot;</span><span class="p">:</span> <span class="n">curve_types</span><span class="p">,</span>
        <span class="s2">&quot;Count per Curve Type&quot;</span><span class="p">:</span> <span class="n">curve_type_counts_str</span><span class="p">,</span>
        <span class="s2">&quot;Hazard Types&quot;</span><span class="p">:</span> <span class="n">hazard_types</span><span class="p">,</span>
        <span class="s2">&quot;Count per Hazard Type&quot;</span><span class="p">:</span> <span class="n">hazard_counts_str</span><span class="p">,</span>
    <span class="p">}</span>


<span class="c1"># Convert dictionary to DataFrame</span>
<span class="n">summary_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">asset_summary</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>


<span class="c1"># === Curve Type Summary Table ===</span>

<span class="n">curve_type_table</span> <span class="o">=</span> <span class="n">summary_df</span><span class="p">[[</span>
    <span class="s2">&quot;Total Curves&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Curve Types&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Count per Curve Type&quot;</span>
<span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Curve Type Summary:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">curve_type_table</span><span class="p">)</span>

<span class="c1"># Save file</span>
<span class="n">curve_type_table</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">results_path</span> <span class="o">/</span> <span class="s2">&quot;Curve_type_summary.csv&quot;</span><span class="p">)</span>

<span class="c1"># === Hazard Type Summary Table ===</span>

<span class="n">hazard_type_table</span> <span class="o">=</span> <span class="n">summary_df</span><span class="p">[[</span>
    <span class="s2">&quot;Total Curves&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Hazard Types&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Count per Hazard Type&quot;</span>
<span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Detailed Hazard Summary:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">hazard_type_table</span><span class="p">)</span>

<span class="c1"># Save file</span>
<span class="n">hazard_type_table</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">results_path</span> <span class="o">/</span> <span class="s2">&quot;Hazard_type_summary.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Curve Type Summary:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Total Curves</th>
      <th>Curve Types</th>
      <th>Count per Curve Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Energy</th>
      <td>446</td>
      <td>F, F + V, V</td>
      <td>F: 348, F + V: 72, V: 26</td>
    </tr>
    <tr>
      <th>Transportation</th>
      <td>398</td>
      <td>F, V, F + V, V (repair rate)</td>
      <td>F: 306, V: 69, F + V: 22, V (repair rate): 1</td>
    </tr>
    <tr>
      <th>Telecommunication</th>
      <td>27</td>
      <td>F, V, F + V</td>
      <td>F: 23, V: 2, F + V: 2</td>
    </tr>
    <tr>
      <th>Water</th>
      <td>147</td>
      <td>V (repair rate), F, V, F + V</td>
      <td>V (repair rate): 57, F: 45, V: 25, F + V: 20</td>
    </tr>
    <tr>
      <th>Waste</th>
      <td>98</td>
      <td>V (faults/km), V (repair rate), V, F + V, F</td>
      <td>V (faults/km): 36, V (repair rate): 31, V: 14, F + V: 12, F: 5</td>
    </tr>
    <tr>
      <th>Education &amp; Health</th>
      <td>213</td>
      <td>F, F + V, V, F + V (3D)</td>
      <td>F: 119, F + V: 65, V: 25, F + V (3D): 5</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Detailed Hazard Summary:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Total Curves</th>
      <th>Hazard Types</th>
      <th>Count per Hazard Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Energy</th>
      <td>446</td>
      <td>E, W, F, E+W, L</td>
      <td>E: 209, W: 203, F: 16, E+W: 12, L: 6</td>
    </tr>
    <tr>
      <th>Transportation</th>
      <td>398</td>
      <td>E, L, F, E+F, W</td>
      <td>E: 283, L: 65, F: 32, E+F: 16, W: 2</td>
    </tr>
    <tr>
      <th>Telecommunication</th>
      <td>27</td>
      <td>W, E, F, L</td>
      <td>W: 21, E: 3, F: 2, L: 1</td>
    </tr>
    <tr>
      <th>Water</th>
      <td>147</td>
      <td>E, L, F, W</td>
      <td>E: 81, L: 39, F: 25, W: 2</td>
    </tr>
    <tr>
      <th>Waste</th>
      <td>98</td>
      <td>E, L, F, W</td>
      <td>E: 56, L: 26, F: 14, W: 2</td>
    </tr>
    <tr>
      <th>Education &amp; Health</th>
      <td>213</td>
      <td>E, W, F, E+F, L, WF, E+Liq, E , E+L</td>
      <td>E: 131, W: 24, F: 22, E+F: 14, L: 11, WF: 8, E+Liq: 4, E : 1, E+L: 1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Finally, the statistic plots with the summary of the database per Critical Infrastucture and per Hazard Type are generated to explore the distribution of the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get MIRACA colors in the exact order defined in the dictionary</span>
<span class="n">miraca_color_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">colors</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

<span class="c1"># Number of assets</span>
<span class="n">n_assets</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">asset_counts_df</span><span class="p">)</span>

<span class="c1"># Take only the first n colors</span>
<span class="n">color_list</span> <span class="o">=</span> <span class="n">miraca_color_list</span><span class="p">[:</span><span class="n">n_assets</span><span class="p">]</span>

<span class="c1"># Extract data</span>
<span class="n">asset_counts_series</span> <span class="o">=</span> <span class="n">asset_counts_df</span><span class="p">[</span><span class="s2">&quot;Total Curves&quot;</span><span class="p">]</span>


<span class="n">explode_value</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">explode</span> <span class="o">=</span> <span class="p">[</span><span class="n">explode_value</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">hazard_counts_df</span><span class="p">[</span><span class="s2">&quot;Total Curves&quot;</span><span class="p">])</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">wedges</span><span class="p">,</span> <span class="n">texts</span><span class="p">,</span> <span class="n">autotexts</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span>
    <span class="n">asset_counts_series</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">asset_counts_series</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
    <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">color_list</span><span class="p">,</span>
    <span class="n">explode</span><span class="o">=</span><span class="n">explode</span><span class="p">,</span>          
    <span class="n">startangle</span><span class="o">=</span><span class="mi">140</span><span class="p">,</span>
    <span class="n">pctdistance</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
    <span class="n">wedgeprops</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;edgecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="mf">0.35</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Text styling</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">texts</span><span class="p">:</span>
    <span class="n">t</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">autotexts</span><span class="p">:</span>
    <span class="n">a</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>



<span class="c1"># Legend</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span>
    <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">,</span>
    <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span>
    <span class="n">markerscale</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
    <span class="n">handlelength</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
    <span class="n">handleheight</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
    <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span>
<span class="p">)</span>

<span class="c1"># Save figure</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">results_path</span> <span class="o">/</span> <span class="s2">&quot;Asset_Distribution.png&quot;</span><span class="p">,</span>
            <span class="n">dpi</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/12658d18724580c006656b359f07839d390e7d3a679aa816756d758440d7fa71.png" src="../../../_images/12658d18724580c006656b359f07839d390e7d3a679aa816756d758440d7fa71.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># === PIE CHART: Hazard Distribution using MIRACA Colors (explode all) ===</span>

<span class="c1"># Extract hazard data from your earlier summary</span>
<span class="n">hazard_series</span> <span class="o">=</span> <span class="n">hazard_counts_df</span><span class="p">[</span><span class="s2">&quot;Total Curves&quot;</span><span class="p">]</span>

<span class="c1"># MIRACA colors in the exact order defined in the dictionary</span>
<span class="n">miraca_color_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">colors</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

<span class="c1"># Match number of colors to number of hazard categories</span>
<span class="n">color_list</span> <span class="o">=</span> <span class="n">miraca_color_list</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">hazard_series</span><span class="p">)]</span>

<span class="c1"># Explode all slices equally</span>
<span class="n">explode_value</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">explode</span> <span class="o">=</span> <span class="p">[</span><span class="n">explode_value</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">hazard_series</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">wedges</span><span class="p">,</span> <span class="n">texts</span><span class="p">,</span> <span class="n">autotexts</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span>
    <span class="n">hazard_series</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">hazard_series</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>      <span class="c1"># already has full names e.g. &quot;Earthquakes&quot;</span>
    <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">color_list</span><span class="p">,</span>
    <span class="n">explode</span><span class="o">=</span><span class="n">explode</span><span class="p">,</span>
    <span class="n">startangle</span><span class="o">=</span><span class="mi">140</span><span class="p">,</span>
    <span class="n">pctdistance</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
    <span class="n">wedgeprops</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;edgecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="mf">0.35</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Text styling</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">texts</span><span class="p">:</span>
    <span class="n">t</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">autotexts</span><span class="p">:</span>
    <span class="n">a</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>


<span class="c1"># Legend (same style as asset pie)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span>
    <span class="n">wedges</span><span class="p">,</span>
    <span class="n">hazard_series</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
    <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> 
    <span class="n">markerscale</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>  <span class="c1"># This is for scaling the size of the marker (bars)</span>
    <span class="n">handlelength</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>  <span class="c1"># Adjust the length of the legend marker (bar)</span>
    <span class="n">handleheight</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>  <span class="c1"># Adjust the height of the legend marker (bar)</span>
    <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="p">)</span>


<span class="c1"># Save figure</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">results_path</span> <span class="o">/</span> <span class="s2">&quot;Hazard_Distribution.png&quot;</span><span class="p">,</span>
            <span class="n">dpi</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/2fc48226596b23b94ae8c0cb682e791438d580e8d8b39b1b9447bcba02b2fd26.png" src="../../../_images/2fc48226596b23b94ae8c0cb682e791438d580e8d8b39b1b9447bcba02b2fd26.png" />
</div>
</div>
</section>
<section id="hazard-vulnerability-modeling">
<h2>Hazard Vulnerability Modeling<a class="headerlink" href="#hazard-vulnerability-modeling" title="Link to this heading">#</a></h2>
<p>The main focus of this module consist of the functions to visualize and analyse the vulnerability data. These can be found in the <code class="docutils literal notranslate"><span class="pre">data_utils.py</span></code> package in the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory if this repository. They allow to select a specific Vulnerability or Fragility curve (ID number), that can be subsequently plotted.</p>
<p>First, an ID number (specific curve) is selected, along with an associated hazard type and intensity metric of interest.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data_utils.filter_curves()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data_utils.get_curve_metadata()</span></code></p></li>
</ul>
<p>The Fragility and Vulnerability curves based on the ID number selected can be plotted to anylise the behaviour of the Damage Factor and the Probability of exadence at different intensities.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">generate_plots()</span></code></p></li>
</ul>
</section>
<section id="example-1-education-health-earthquakes">
<h2>Example 1: Education &amp; Health - Earthquakes<a class="headerlink" href="#example-1-education-health-earthquakes" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">network</span> <span class="o">=</span> <span class="n">networks</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="c1"># Education &amp; Health</span>
</pre></div>
</div>
</div>
</div>
<p>Select the filtering criteria below to display all available ID numbers that match the chosen sector, hazard, and intensity measure.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">styled</span><span class="p">,</span> <span class="n">raw</span> <span class="o">=</span> <span class="n">data_utils</span><span class="o">.</span><span class="n">filter_curves</span><span class="p">(</span>
    <span class="n">network</span><span class="o">=</span><span class="n">network</span><span class="p">,</span>
    <span class="n">hazard_type</span><span class="o">=</span><span class="s2">&quot;E&quot;</span><span class="p">,</span>
    <span class="n">intensity_metric</span><span class="o">=</span><span class="s2">&quot;Peak Ground Acceleration&quot;</span><span class="p">,</span>
    <span class="n">cost_feature</span><span class="o">=</span><span class="s2">&quot;No&quot;</span><span class="p">,</span>
    <span class="n">geographical_application</span><span class="o">=</span><span class="s2">&quot;Greece&quot;</span>
<span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">styled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_2d60c th {
  text-align: left;
}
#T_2d60c_row0_col0, #T_2d60c_row0_col1, #T_2d60c_row0_col2, #T_2d60c_row0_col3, #T_2d60c_row0_col4, #T_2d60c_row0_col5, #T_2d60c_row0_col6, #T_2d60c_row1_col0, #T_2d60c_row1_col1, #T_2d60c_row1_col2, #T_2d60c_row1_col3, #T_2d60c_row1_col4, #T_2d60c_row1_col5, #T_2d60c_row1_col6, #T_2d60c_row2_col0, #T_2d60c_row2_col1, #T_2d60c_row2_col2, #T_2d60c_row2_col3, #T_2d60c_row2_col4, #T_2d60c_row2_col5, #T_2d60c_row2_col6, #T_2d60c_row3_col0, #T_2d60c_row3_col1, #T_2d60c_row3_col2, #T_2d60c_row3_col3, #T_2d60c_row3_col4, #T_2d60c_row3_col5, #T_2d60c_row3_col6, #T_2d60c_row4_col0, #T_2d60c_row4_col1, #T_2d60c_row4_col2, #T_2d60c_row4_col3, #T_2d60c_row4_col4, #T_2d60c_row4_col5, #T_2d60c_row4_col6, #T_2d60c_row5_col0, #T_2d60c_row5_col1, #T_2d60c_row5_col2, #T_2d60c_row5_col3, #T_2d60c_row5_col4, #T_2d60c_row5_col5, #T_2d60c_row5_col6, #T_2d60c_row6_col0, #T_2d60c_row6_col1, #T_2d60c_row6_col2, #T_2d60c_row6_col3, #T_2d60c_row6_col4, #T_2d60c_row6_col5, #T_2d60c_row6_col6 {
  text-align: left;
}
</style>
<table id="T_2d60c">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_2d60c_level0_col0" class="col_heading level0 col0" >ID number</th>
      <th id="T_2d60c_level0_col1" class="col_heading level0 col1" >Infrastructure description</th>
      <th id="T_2d60c_level0_col2" class="col_heading level0 col2" >Additional characteristics </th>
      <th id="T_2d60c_level0_col3" class="col_heading level0 col3" >Characteristics of curve</th>
      <th id="T_2d60c_level0_col4" class="col_heading level0 col4" >Fragility and/or vulnerability</th>
      <th id="T_2d60c_level0_col5" class="col_heading level0 col5" >Damage states (in case of fragility)</th>
      <th id="T_2d60c_level0_col6" class="col_heading level0 col6" >Reference</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_2d60c_level0_row0" class="row_heading level0 row0" >44</th>
      <td id="T_2d60c_row0_col0" class="data row0 col0" >E21.23-C</td>
      <td id="T_2d60c_row0_col1" class="data row0 col1" >School</td>
      <td id="T_2d60c_row0_col2" class="data row0 col2" >Reinforced concrete: mid rise dual- low code</td>
      <td id="T_2d60c_row0_col3" class="data row0 col3" >RC</td>
      <td id="T_2d60c_row0_col4" class="data row0 col4" >F + V</td>
      <td id="T_2d60c_row0_col5" class="data row0 col5" >4 - 'Slight', 'Moderate', 'Extensive', 'Complete'</td>
      <td id="T_2d60c_row0_col6" class="data row0 col6" >Fotopoulou et al. (2022)</td>
    </tr>
    <tr>
      <th id="T_2d60c_level0_row1" class="row_heading level0 row1" >45</th>
      <td id="T_2d60c_row1_col0" class="data row1 col0" >E21.24-C</td>
      <td id="T_2d60c_row1_col1" class="data row1 col1" >School</td>
      <td id="T_2d60c_row1_col2" class="data row1 col2" >Reinforced concrete: low rise dual - high code</td>
      <td id="T_2d60c_row1_col3" class="data row1 col3" >RC</td>
      <td id="T_2d60c_row1_col4" class="data row1 col4" >F + V</td>
      <td id="T_2d60c_row1_col5" class="data row1 col5" >4 - 'Slight', 'Moderate', 'Extensive', 'Complete'</td>
      <td id="T_2d60c_row1_col6" class="data row1 col6" >Fotopoulou et al. (2022)</td>
    </tr>
    <tr>
      <th id="T_2d60c_level0_row2" class="row_heading level0 row2" >46</th>
      <td id="T_2d60c_row2_col0" class="data row2 col0" >E21.25-C</td>
      <td id="T_2d60c_row2_col1" class="data row2 col1" >School</td>
      <td id="T_2d60c_row2_col2" class="data row2 col2" >Reinforced concrete: low rise dual- low code</td>
      <td id="T_2d60c_row2_col3" class="data row2 col3" >RC</td>
      <td id="T_2d60c_row2_col4" class="data row2 col4" >F + V</td>
      <td id="T_2d60c_row2_col5" class="data row2 col5" >4 - 'Slight', 'Moderate', 'Extensive', 'Complete'</td>
      <td id="T_2d60c_row2_col6" class="data row2 col6" >Fotopoulou et al. (2022)</td>
    </tr>
    <tr>
      <th id="T_2d60c_level0_row3" class="row_heading level0 row3" >147</th>
      <td id="T_2d60c_row3_col0" class="data row3 col0" >E21.125-C</td>
      <td id="T_2d60c_row3_col1" class="data row3 col1" >Hospitals</td>
      <td id="T_2d60c_row3_col2" class="data row3 col2" >Eight-storey, low-code RC hospital: UNIT 1- Updated Finite element model </td>
      <td id="T_2d60c_row3_col3" class="data row3 col3" >RC</td>
      <td id="T_2d60c_row3_col4" class="data row3 col4" >F</td>
      <td id="T_2d60c_row3_col5" class="data row3 col5" >2 -'Immediate Occupancy', 'collapse prevention' </td>
      <td id="T_2d60c_row3_col6" class="data row3 col6" >Karapetrou et al. (2016)</td>
    </tr>
    <tr>
      <th id="T_2d60c_level0_row4" class="row_heading level0 row4" >148</th>
      <td id="T_2d60c_row4_col0" class="data row4 col0" >E21.126-C</td>
      <td id="T_2d60c_row4_col1" class="data row4 col1" >Hospitals</td>
      <td id="T_2d60c_row4_col2" class="data row4 col2" >Eight-storey, low-code RC hospital: UNIT 1- Corroded Finite element model </td>
      <td id="T_2d60c_row4_col3" class="data row4 col3" >RC</td>
      <td id="T_2d60c_row4_col4" class="data row4 col4" >F</td>
      <td id="T_2d60c_row4_col5" class="data row4 col5" >2 -'Immediate Occupancy', 'collapse prevention' </td>
      <td id="T_2d60c_row4_col6" class="data row4 col6" >Karapetrou et al. (2016)</td>
    </tr>
    <tr>
      <th id="T_2d60c_level0_row5" class="row_heading level0 row5" >149</th>
      <td id="T_2d60c_row5_col0" class="data row5 col0" >E21.127-C</td>
      <td id="T_2d60c_row5_col1" class="data row5 col1" >Hospitals</td>
      <td id="T_2d60c_row5_col2" class="data row5 col2" >Eight-storey, low-code RC hospital: UNIT 2- Updated Finite element model </td>
      <td id="T_2d60c_row5_col3" class="data row5 col3" >RC</td>
      <td id="T_2d60c_row5_col4" class="data row5 col4" >F</td>
      <td id="T_2d60c_row5_col5" class="data row5 col5" >2 -'Immediate Occupancy', 'collapse prevention' </td>
      <td id="T_2d60c_row5_col6" class="data row5 col6" >Karapetrou et al. (2016)</td>
    </tr>
    <tr>
      <th id="T_2d60c_level0_row6" class="row_heading level0 row6" >150</th>
      <td id="T_2d60c_row6_col0" class="data row6 col0" >E21.128-C</td>
      <td id="T_2d60c_row6_col1" class="data row6 col1" >Hospitals</td>
      <td id="T_2d60c_row6_col2" class="data row6 col2" >Eight-storey, low-code RC hospital: UNIT 2- Corroded Finite element model </td>
      <td id="T_2d60c_row6_col3" class="data row6 col3" >RC</td>
      <td id="T_2d60c_row6_col4" class="data row6 col4" >F</td>
      <td id="T_2d60c_row6_col5" class="data row6 col5" >2 -'Immediate Occupancy', 'collapse prevention' </td>
      <td id="T_2d60c_row6_col6" class="data row6 col6" >Karapetrou et al. (2016)</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Choose the appropriate ID_number from the table above to generate the corresponding vulnerability or/and fragility curves.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ID_number</span> <span class="o">=</span> <span class="s2">&quot;E21.23-C&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">meta</span> <span class="o">=</span> <span class="n">data_utils</span><span class="o">.</span><span class="n">get_curve_metadata</span><span class="p">(</span><span class="n">ID_number</span><span class="p">,</span> <span class="n">network</span><span class="p">)</span>
<span class="n">data_utils</span><span class="o">.</span><span class="n">generate_plots</span><span class="p">(</span><span class="n">ID_number</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Curve info :
Hazard Type: E
Intensity Metric: Peak Ground Acceleration
Fragility/Vulnerability Type: F + V
Reference: Fotopoulou et al. (2022)

Intensity Measure Code: PGA
Units: [g]

Extracted Damage States: [&#39;Slight&#39;, &#39;Moderate&#39;, &#39;Extensive&#39;, &#39;Complete&#39;]
Number of Damage States: 4
</pre></div>
</div>
<img alt="../../../_images/050d1db294470a1407158c93c443df02f367da3bc0b7f30fa17521ac9727372d.png" src="../../../_images/050d1db294470a1407158c93c443df02f367da3bc0b7f30fa17521ac9727372d.png" />
<img alt="../../../_images/ad2fc2ce95ddaa7fab383e0402d5c9985e60634e5f18706bea60f84c1cd6df18.png" src="../../../_images/ad2fc2ce95ddaa7fab383e0402d5c9985e60634e5f18706bea60f84c1cd6df18.png" />
</div>
</div>
</section>
<section id="example-2-energy-windstorms">
<h2>Example 2: Energy - Windstorms<a class="headerlink" href="#example-2-energy-windstorms" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">network</span> <span class="o">=</span> <span class="n">networks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># Energy</span>
</pre></div>
</div>
</div>
</div>
<p>Select the filtering criteria below to display all available ID numbers that match the chosen sector, hazard, and intensity measure.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">styled</span><span class="p">,</span> <span class="n">raw</span> <span class="o">=</span> <span class="n">data_utils</span><span class="o">.</span><span class="n">filter_curves</span><span class="p">(</span>
    <span class="n">network</span><span class="o">=</span><span class="n">network</span><span class="p">,</span>
    <span class="n">hazard_type</span><span class="o">=</span><span class="s2">&quot;W&quot;</span><span class="p">,</span>
    <span class="n">intensity_metric</span><span class="o">=</span><span class="s2">&quot;3-sec peak gust wind speed at 10 m height&quot;</span><span class="p">,</span>
    <span class="n">cost_feature</span><span class="o">=</span><span class="s2">&quot;Yes&quot;</span><span class="p">,</span>
    <span class="n">geographical_application</span><span class="o">=</span><span class="s2">&quot;Mexico&quot;</span>
<span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">styled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_01ea8 th {
  text-align: left;
}
#T_01ea8_row0_col0, #T_01ea8_row0_col1, #T_01ea8_row0_col2, #T_01ea8_row0_col3, #T_01ea8_row0_col4, #T_01ea8_row0_col5, #T_01ea8_row0_col6, #T_01ea8_row1_col0, #T_01ea8_row1_col1, #T_01ea8_row1_col2, #T_01ea8_row1_col3, #T_01ea8_row1_col4, #T_01ea8_row1_col5, #T_01ea8_row1_col6, #T_01ea8_row2_col0, #T_01ea8_row2_col1, #T_01ea8_row2_col2, #T_01ea8_row2_col3, #T_01ea8_row2_col4, #T_01ea8_row2_col5, #T_01ea8_row2_col6 {
  text-align: left;
}
</style>
<table id="T_01ea8">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_01ea8_level0_col0" class="col_heading level0 col0" >ID number</th>
      <th id="T_01ea8_level0_col1" class="col_heading level0 col1" >Infrastructure description</th>
      <th id="T_01ea8_level0_col2" class="col_heading level0 col2" >Additional characteristics </th>
      <th id="T_01ea8_level0_col3" class="col_heading level0 col3" >Characteristics of curve</th>
      <th id="T_01ea8_level0_col4" class="col_heading level0 col4" >Fragility and/or vulnerability</th>
      <th id="T_01ea8_level0_col5" class="col_heading level0 col5" >Damage states (in case of fragility)</th>
      <th id="T_01ea8_level0_col6" class="col_heading level0 col6" >Reference</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_01ea8_level0_row0" class="row_heading level0 row0" >34</th>
      <td id="T_01ea8_row0_col0" class="data row0 col0" >W1.1</td>
      <td id="T_01ea8_row0_col1" class="data row0 col1" >Wind turbines</td>
      <td id="T_01ea8_row0_col2" class="data row0 col2" >1-MW capacity, 40-m hub height; fixed in the base; blades in feathered position minimizing the drag force</td>
      <td id="T_01ea8_row0_col3" class="data row0 col3" >RC</td>
      <td id="T_01ea8_row0_col4" class="data row0 col4" >F + V</td>
      <td id="T_01ea8_row0_col5" class="data row0 col5" >3 - 'Residual displacement', 'Yielding of tower', 'Collapse'</td>
      <td id="T_01ea8_row0_col6" class="data row0 col6" >Jaimes et al. (2019)</td>
    </tr>
    <tr>
      <th id="T_01ea8_level0_row1" class="row_heading level0 row1" >35</th>
      <td id="T_01ea8_row1_col0" class="data row1 col0" >W1.2</td>
      <td id="T_01ea8_row1_col1" class="data row1 col1" >Wind turbines</td>
      <td id="T_01ea8_row1_col2" class="data row1 col2" >2.5-MW capacity, 80-m hub height; fixed in the base; blades in feathered position minimizing the drag force</td>
      <td id="T_01ea8_row1_col3" class="data row1 col3" >RC</td>
      <td id="T_01ea8_row1_col4" class="data row1 col4" >F + V</td>
      <td id="T_01ea8_row1_col5" class="data row1 col5" >3 - 'Residual displacement', 'Yielding of tower', 'Collapse'</td>
      <td id="T_01ea8_row1_col6" class="data row1 col6" >Jaimes et al. (2019)</td>
    </tr>
    <tr>
      <th id="T_01ea8_level0_row2" class="row_heading level0 row2" >36</th>
      <td id="T_01ea8_row2_col0" class="data row2 col0" >W1.3</td>
      <td id="T_01ea8_row2_col1" class="data row2 col1" >Wind turbines</td>
      <td id="T_01ea8_row2_col2" class="data row2 col2" >3.3-MW capacity, 100-m hub height; fixed in the base; blades in feathered position minimizing the drag force</td>
      <td id="T_01ea8_row2_col3" class="data row2 col3" >RC</td>
      <td id="T_01ea8_row2_col4" class="data row2 col4" >F + V</td>
      <td id="T_01ea8_row2_col5" class="data row2 col5" >3 - 'Residual displacement', 'Yielding of tower', 'Collapse'</td>
      <td id="T_01ea8_row2_col6" class="data row2 col6" >Jaimes et al. (2019)</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Choose the appropriate ID_number from the table above to generate the corresponding vulnerability or/and fragility curves.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ID_number</span> <span class="o">=</span> <span class="s2">&quot;W1.1&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">meta</span> <span class="o">=</span> <span class="n">data_utils</span><span class="o">.</span><span class="n">get_curve_metadata</span><span class="p">(</span><span class="n">ID_number</span><span class="p">,</span> <span class="n">network</span><span class="p">)</span>
<span class="n">data_utils</span><span class="o">.</span><span class="n">generate_plots</span><span class="p">(</span><span class="n">ID_number</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Curve info :
Hazard Type: W
Intensity Metric: 3-sec peak gust wind speed at 10 m height
Fragility/Vulnerability Type: F + V
Reference: Jaimes et al. (2019)

Intensity Measure Code: V10m
Units: [m/s]

Extracted Damage States: [&#39;Residual displacement&#39;, &#39;Yielding of tower&#39;, &#39;Collapse&#39;]
Number of Damage States: 3
</pre></div>
</div>
<img alt="../../../_images/77aef4a67e2e7bdd4c070b33d569e9be3cce28de7b49b5c29a5b754db6f53203.png" src="../../../_images/77aef4a67e2e7bdd4c070b33d569e9be3cce28de7b49b5c29a5b754db6f53203.png" />
<img alt="../../../_images/9dc6e47f2a2414922ea28ebbdd7c1975e3eda48cca905ae7baadbd9058f6ad57.png" src="../../../_images/9dc6e47f2a2414922ea28ebbdd7c1975e3eda48cca905ae7baadbd9058f6ad57.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./background/Vulnerability/book"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../../Exposure_Miraca/book/Exposure_Miraca.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Exploring the Critical Infrastructure Exposure Database</p>
      </div>
    </a>
    <a class="right-next"
       href="../../RoadFlowModelling/book/miraca_roads.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Road Flow Model</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-of-asset-vulnerability-curves">Analysis of asset Vulnerability curves</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hazard-vulnerability-modeling">Hazard Vulnerability Modeling</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-1-education-health-earthquakes">Example 1: Education &amp; Health - Earthquakes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-2-energy-windstorms">Example 2: Energy - Windstorms</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By MIRACA
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>